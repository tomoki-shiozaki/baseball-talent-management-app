{% extends 'base.html' %}
{% load static %}

{% block title %}ãƒãƒ¼ãƒ å…¨ä½“ã®å‚¾å‘ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰{% endblock title %}

{% block extra_css %}
<!-- ãƒãƒ¼ãƒ åˆ†æã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å°‚ç”¨ã®CSSã‚’èª­ã¿è¾¼ã‚€ -->
<link href="{% static 'css/team_analytics/dashboard_overview.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}

{{ summary|json_script:"summary" }}

<h1>ãƒãƒ¼ãƒ å…¨ä½“ã®å‚¾å‘ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>

<h2>æœ€æ–°ã®æ¸¬å®šæ—¥ <strong>{{ latest_date }}</strong> ã®æ¸¬å®šè¨˜éŒ²ã«åŸºã¥ãã€ãƒãƒ¼ãƒ å…¨ä½“ã®å¹³å‡å€¤</h2>

<div class="dashboard-grid">

    <!-- èµ°åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="dashboard-card">
        <h2>ğŸƒâ€â™‚ï¸ èµ°åŠ›</h2>
        <canvas id="speedChart"></canvas>
        <p>
            ãƒ»50mèµ° å¹³å‡ï¼š{{ summary.avg_sprint_50m|floatformat:2 }} ç§’<br>
            ãƒ»ãƒ™ãƒ¼ã‚¹ãƒ©ãƒ³ãƒ‹ãƒ³ã‚° å¹³å‡ï¼š{{ summary.avg_base_running|floatformat:2 }} ç§’
        </p>
        <a href="{% url 'team_analytics:sprint_detail' %}">â–¶ è©³ç´°ã‚’è¦‹ã‚‹</a>
    </section>

    <!-- è‚©åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="dashboard-card">
        <h2>ğŸ¤¾ è‚©åŠ›</h2>
        <canvas id="throwingChart"></canvas>
        <p>
            ãƒ»é æŠ• å¹³å‡ï¼š{{ summary.avg_long_throw|floatformat:2 }} m<br>
            ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆçƒé€Ÿ å¹³å‡ï¼š{{ summary.avg_straight_ball_speed|floatformat:2 }} m
        </p>
        <a href="{% url 'team_analytics:sprint_detail' %}">â–¶ è©³ç´°ã‚’è¦‹ã‚‹</a>
    </section>

    <!-- æ‰“åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="dashboard-card">
        <h2>âš¾ æ‰“åŠ›</h2>
        <canvas id="battingChart"></canvas>
        <p>
            ãƒ»æ‰“çƒé€Ÿåº¦ å¹³å‡ï¼š{{ summary.avg_hit_ball_speed|floatformat:2 }} km/h<br>
            ãƒ»ã‚¹ã‚¤ãƒ³ã‚°é€Ÿåº¦ å¹³å‡ï¼š{{ summary.avg_swing_speed|floatformat:2 }} km/h
        </p>
        <a href="{% url 'team_analytics:hitting_detail' %}">â–¶ è©³ç´°ã‚’è¦‹ã‚‹</a>
    </section>

    <!-- ç­‹åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="dashboard-card">
        <h2>ğŸ’ª ç­‹åŠ›</h2>
        <canvas id="strengthChart"></canvas>
        <p>
            ãƒ»ãƒ™ãƒ³ãƒãƒ—ãƒ¬ã‚¹ å¹³å‡ï¼š{{ summary.avg_bench_press|floatformat:2 }} kg<br>
            ãƒ»ã‚¹ã‚¯ãƒ¯ãƒƒãƒˆ å¹³å‡ï¼š{{ summary.avg_squat|floatformat:2 }} kg
        </p>
        <a href="{% url 'team_analytics:strength_detail' %}">â–¶ è©³ç´°ã‚’è¦‹ã‚‹</a>
    </section>

</div>

{% endblock content %}

{% block extra_js %}
<!-- JavaScript-->
<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
<script src="{% static 'js/team_analytics/dashboard_overview.js' %}"></script>
{% endblock %}