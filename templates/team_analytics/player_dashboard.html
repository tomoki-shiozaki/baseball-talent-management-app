{% extends 'base.html' %}
{% load static %}
{% load user_extras %}

{% block title %}分析ダッシュボード{% endblock title %}

{% block extra_css %}
<!-- 分析のダッシュボード専用のCSSを読み込む -->
<link href="{% static 'css/team_analytics/dashboard.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}

<h1>{{ player|display_name }}さんの測定結果の分析ダッシュボード</h1>

<!-- ページ概要 -->
<p class="text-muted">
    このページでは、{{ player|display_name }}さんの記録を各種目ごとに可視化しています。<br>
    パフォーマンス推移や強化ポイントを把握するために活用できます。
</p>
<p class="text-muted">
    チーム全体の平均記録と比較したい場合は、以下のボタンから比較グラフページへ進んでください。
</p>

<!-- 比較ページへの遷移ボタン -->
<div class="mb-4">
    <a href="{% url 'team_analytics:player_comparison' %}" class="btn btn-outline-primary">
        チーム平均との比較グラフを見る →
    </a>
</div>

{{ labels|json_script:"labels" }}
{{ measurement_values|json_script:"measurement-values" }}

<div class="dashboard-grid">

    <!-- 走力セクション -->
    <section class="dashboard-card">
        <h2>🏃‍♂️ 走力（50m走）</h2>
        <canvas id="sprintChart"></canvas>
    </section>
    <section class="dashboard-card">
        <h2>🏃‍♂️ 走力（ベースランニング）</h2>
        <canvas id="baseRunningChart"></canvas>
    </section>

    <!-- 肩力セクション -->
    <section class="dashboard-card">
        <h2>🤾 肩力（遠投）</h2>
        <canvas id="longThrowChart"></canvas>
    </section>
    <section class="dashboard-card">
        <h2>🤾 肩力（ストレート球速）</h2>
        <canvas id="straightBallSpeedChart"></canvas>
    </section>

    <!-- 打力セクション -->
    <section class="dashboard-card">
        <h2>⚾ 打力（打球速度）</h2>
        <canvas id="hitBallSpeedChart"></canvas>
    </section>
    <section class="dashboard-card">
        <h2>⚾ 打力（スイング速度）</h2>
        <canvas id="swingSpeedChart"></canvas>
    </section>

    <!-- 筋力セクション -->
    <section class="dashboard-card">
        <h2>💪 筋力（ベンチプレス）</h2>
        <canvas id="benchPressChart"></canvas>
    </section>
    <section class="dashboard-card">
        <h2>💪 筋力（スクワット）</h2>
        <canvas id="squatChart"></canvas>
    </section>

</div>

{% endblock content %}

{% block extra_js %}
<!-- JavaScript-->
<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
<script src="{% static 'js/team_analytics/dashboard.js' %}"></script>
{% endblock %}