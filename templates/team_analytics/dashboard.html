{% extends 'base.html' %}
{% load static %}

{% block title %}チーム分析ダッシュボード{% endblock title %}

{% block extra_css %}
<!-- チーム分析のダッシュボード専用のCSSを読み込む -->
<link href="{% static 'css/team_analytics/dashboard.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}

{{ sprint_labels|json_script:"sprint-labels" }}
{{ sprint_values|json_script:"sprint-values" }}
{{ ball_stats|json_script:"ball-stats" }}

<h1>チーム分析ダッシュボード</h1>

<div>
    <h2>50m走の月別平均タイム推移</h2>
    <canvas id="sprintChart" width="800" height="400"></canvas>
</div>

<div>
    <h2>球速の統計</h2>
    <div class="card">
        <h3>平均球速</h3>
        <p>{{ ball_stats.avg_speed|floatformat:1 }} km/h</p>
    </div>
    <div class="card">
        <h3>最大球速</h3>
        <p>{{ ball_stats.max_speed }} km/h</p>
    </div>
    <div class="card">
        <h3>最小球速</h3>
        <p>{{ ball_stats.min_speed }} km/h</p>
    </div>
</div>

{% endblock content %}

{% block extra_js %}
<!-- JavaScript-->
<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
<script src="{% static 'js/team_analytics/dashboard.js' %}"></script>
{% endblock %}